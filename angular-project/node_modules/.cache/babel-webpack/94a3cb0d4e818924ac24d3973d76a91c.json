{"ast":null,"code":"import _asyncToGenerator from \"/Users/cristianfranco/Documents/University/redbicicletas-fe/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport firebase from 'firebase/compat/app';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/auth\";\nexport class AuthenticationService {\n  constructor(auth) {\n    this.auth = auth;\n  }\n\n  login() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      // this.auth.signInWithPopup(new firebase.auth.GoogleAuthProvider());\n      const res = yield _this.auth.signInWithPopup(new firebase.auth.GoogleAuthProvider());\n      let token = Object(res.credential).accessToken;\n      localStorage.setItem('user', JSON.stringify(res.user));\n      localStorage.setItem('accessToken', token);\n    })();\n  }\n\n  logout() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this2.auth.signOut();\n      localStorage.removeItem('user');\n      localStorage.removeItem('accessToken');\n    })();\n  }\n\n}\n\nAuthenticationService.ɵfac = function AuthenticationService_Factory(t) {\n  return new (t || AuthenticationService)(i0.ɵɵinject(i1.AngularFireAuth));\n};\n\nAuthenticationService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthenticationService,\n  factory: AuthenticationService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["/Users/cristianfranco/Documents/University/redbicicletas-fe/src/app/core/services/authentication/authentication.service.ts"],"names":[],"mappings":";AAEA,OAAO,QAAP,MAAqB,qBAArB;;;AAKA,OAAM,MAAO,qBAAP,CAA4B;AAEhC,EAAA,WAAA,CACS,IADT,EAC8B;AAArB,SAAA,IAAA,GAAA,IAAA;AACJ;;AAEC,EAAA,KAAK,GAAA;AAAA;;AAAA;AACT;AACA,YAAM,GAAG,SAAS,KAAI,CAAC,IAAL,CAAU,eAAV,CAA0B,IAAI,QAAQ,CAAC,IAAT,CAAc,kBAAlB,EAA1B,CAAlB;AACA,UAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,UAAL,CAAN,CAAuB,WAAnC;AACA,MAAA,YAAY,CAAC,OAAb,CAAqB,MAArB,EAA6B,IAAI,CAAC,SAAL,CAAe,GAAG,CAAC,IAAnB,CAA7B;AACA,MAAA,YAAY,CAAC,OAAb,CAAqB,aAArB,EAAoC,KAApC;AALS;AAMV;;AAEK,EAAA,MAAM,GAAA;AAAA;;AAAA;AACV,YAAM,MAAI,CAAC,IAAL,CAAU,OAAV,EAAN;AACA,MAAA,YAAY,CAAC,UAAb,CAAwB,MAAxB;AACA,MAAA,YAAY,CAAC,UAAb,CAAwB,aAAxB;AAHU;AAIX;;AAlB+B;;;mBAArB,qB,EAAqB,EAAA,CAAA,QAAA,CAAA,EAAA,CAAA,eAAA,C;AAAA,C;;;SAArB,qB;AAAqB,EAAA,OAAA,EAArB,qBAAqB,CAAA,I;AAAA,EAAA,UAAA,EAFpB","sourcesContent":["import { Injectable } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\nimport firebase from 'firebase/compat/app';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthenticationService {\n\n  constructor(\n    public auth: AngularFireAuth\n  ) { }\n\n  async login() {\n    // this.auth.signInWithPopup(new firebase.auth.GoogleAuthProvider());\n    const res = await this.auth.signInWithPopup(new firebase.auth.GoogleAuthProvider())\n    let token = Object(res.credential).accessToken;\n    localStorage.setItem('user', JSON.stringify(res.user))\n    localStorage.setItem('accessToken', token)\n  }\n\n  async logout() {\n    await this.auth.signOut()\n    localStorage.removeItem('user');\n    localStorage.removeItem('accessToken');\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}